<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nicoly-io Pro</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="icon" href="favicon.ico">
    <meta name="theme-color" content="#05080a">

    <link rel="stylesheet" href="style.css">
    <script src="https://www.paypal.com/sdk/js?client-id=AZ5PvvqEPNbpa_wjcN7Z0jeMfJ1z9BVpVte2MGVRu-dz1qIbzSisXD60qosD5LVKw9CXnIofhgxpaROb&currency=EUR"></script>
</head>
<body>

    <section id="view-calc" class="app-page active">
        <div class="page-header">
            <h2>SCIENTIFIQUE</h2>
            <div id="xp-val" class="xp-badge">0 XP</div>
        </div>
        
        <div class="import-zone">
            <textarea id="import-input" placeholder="Collez votre opÃ©ration (ex: ln(50) + exp(2) * 4!)"></textarea>
            <button onclick="app.solve()" class="btn-main-solve">CALCULER LE RÃ‰SULTAT</button>
        </div>

        <div class="screen-box">
            <div id="result" class="res-text">0</div>
        </div>

        <div class="pad-grid">
            <button class="s-btn" onclick="app.add('ln(')">ln</button>
            <button class="s-btn" onclick="app.add('exp(')">exp</button>
            <button class="s-btn" onclick="app.add('!')">n!</button>
            <button class="s-btn" onclick="app.add('Math.PI')">Ï€</button>
            
            <button onclick="app.add('7')">7</button><button onclick="app.add('8')">8</button><button onclick="app.add('9')">9</button><button class="o-btn" onclick="app.add('/')">Ã·</button>
            <button onclick="app.add('4')">4</button><button onclick="app.add('5')">5</button><button onclick="app.add('6')">6</button><button class="o-btn" onclick="app.add('*')">Ã—</button>
            <button onclick="app.add('1')">1</button><button onclick="app.add('2')">2</button><button onclick="app.add('3')">3</button><button class="o-btn" onclick="app.add('-')">-</button>
            <button class="c-btn" onclick="app.clear()">AC</button><button onclick="app.add('0')">0</button><button onclick="app.add('.')">.</button><button class="e-btn" onclick="app.solve()">=</button>
        </div>
    </section>

    <section id="view-hist" class="app-page">
        <div class="page-header"><h2>HISTORIQUE</h2></div>
        <div id="hist-content" class="list-container">
            <p class="empty-msg">Aucun calcul rÃ©cent. Cliquez sur un calcul pour voir les Ã©tapes.</p>
        </div>
        
        <div id="step-panel" class="step-panel">
            <button onclick="app.closeSteps()" class="btn-close">Ã—</button>
            <h3><small>MÃ‰THODE DE</small><br>RÃ‰SOLUTION</h3>
            <hr>
            <div id="step-details-content"></div>
        </div>
    </section>

    <section id="view-game" class="app-page">
        <div id="pay-screen" class="overlay">
            <div class="pay-card">
                <h3>ACCÃˆS Ã‰LITE</h3>
                <p class="price-tag">200 FCFA</p>
                
                <div id="paypal-button-container"></div>
                
                <div class="divider">OU VIA MOBILE AU 783113787</div>
                
                <div class="mobile-pay-btns">
                    <a href="tel:#2171#1*783113787*200#" class="pay-btn wave">
                        <img src="https://vps.vps9.net/wave-logo.png" onerror="this.src='https://via.placeholder.com/30?text=W'" alt="W">
                        <span>Payer avec Wave</span>
                    </a>
                    
                    <a href="tel:#144#2*1*1*783113787*200#" class="pay-btn orange">
                        <img src="https://vps.vps9.net/orange-logo.png" onerror="this.src='https://via.placeholder.com/30?text=O'" alt="O">
                        <span>Orange Money</span>
                    </a>
                </div>

                <div class="manual-code">
                    <input type="text" id="code-in" placeholder="Code secret d'activation">
                    <button onclick="app.unlock()" class="btn-activate">ACTIVER MAINTENANT</button>
                </div>
            </div>
        </div>

        <div id="quiz-ui" class="hidden">
            <div class="quiz-header">
                <select id="s-mat" onchange="app.newQ()">
                    <option value="math">MATHÃ‰MATIQUES</option>
                    <option value="pc">PHYSIQUE-CHIMIE</option>
                    <option value="svt">SVT</option>
                    <option value="fr">FRANÃ‡AIS</option>
                    <option value="hg">HISTOIRE-GÃ‰O</option>
                </select>
                <select id="s-niv" onchange="app.newQ()">
                    <option value="f">Facile</option>
                    <option value="m">Moyen</option>
                    <option value="d">Difficile</option>
                </select>
            </div>
            <div id="q-box" class="quiz-card">
                <p id="q-txt">Appuyez pour commencer...</p>
                <input type="text" id="q-ans" placeholder="Votre rÃ©ponse">
                <button onclick="app.check()" class="btn-main-solve">VALIDER</button>
            </div>
        </div>
    </section>

    <nav class="bottom-tabs">
        <button onclick="app.nav('view-calc')"><i>ðŸ§®</i><span>Calcul</span></button>
        <button onclick="app.nav('view-hist')"><i>ðŸ“œ</i><span>Historique</span></button>
        <button onclick="app.nav('view-game')"><i>ðŸŽ®</i><span>Jeux</span></button>
    </nav>

    <script src="app.js"></script>
    <script>
        if('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</body>
</html>
