<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nicoly-io Pro - Calculatrice & Excellence</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="favicon.png">

    <link rel="stylesheet" href="style.css">
    <script src="https://www.paypal.com/sdk/js?client-id=AZ5PvvqEPNbpa_wjcN7Z0jeMfJ1z9BVpVte2MGVRu-dz1qIbzSisXD60qosD5LVKw9CXnIofhgxpaROb&currency=EUR"></script>
</head>
<body>

    <section id="view-calc" class="app-page active">
        <div class="page-header">
            <h2>SCIENTIFIQUE PRO</h2>
            <div id="xp-val" class="xp-badge">0 XP</div>
        </div>
        
        <div class="import-zone">
            <textarea id="import-input" placeholder="Collez ici votre opÃ©ration complexe (ex: ln(50) + exp(2) / 4!)"></textarea>
            <button onclick="app.solve()" class="btn-main">RÃ‰SOUDRE AVEC Ã‰TAPES</button>
        </div>

        <div class="screen">
            <div id="steps" class="step-text">PrÃªt...</div>
            <div id="result" class="res-text">0</div>
        </div>

        <div class="pad">
            <button class="s-btn" onclick="app.add('ln(')">ln</button>
            <button class="s-btn" onclick="app.add('exp(')">exp</button>
            <button class="s-btn" onclick="app.add('!')">n!</button>
            <button class="s-btn" onclick="app.add('Math.PI')">Ï€</button>
            
            <button onclick="app.add('7')">7</button><button onclick="app.add('8')">8</button><button onclick="app.add('9')">9</button><button class="o-btn" onclick="app.add('/')">Ã·</button>
            <button onclick="app.add('4')">4</button><button onclick="app.add('5')">5</button><button onclick="app.add('6')">6</button><button class="o-btn" onclick="app.add('*')">Ã—</button>
            <button onclick="app.add('1')">1</button><button onclick="app.add('2')">2</button><button onclick="app.add('3')">3</button><button class="o-btn" onclick="app.add('-')">-</button>
            <button class="c-btn" onclick="app.clear()">AC</button><button onclick="app.add('0')">0</button><button onclick="app.add('.')">.</button><button class="e-btn" onclick="app.solve()">=</button>
        </div>
    </section>

    <section id="view-hist" class="app-page">
        <div class="page-header"><h2>HISTORIQUE</h2></div>
        <div id="hist-content" class="list-container"></div>
    </section>

    <section id="view-game" class="app-page">
        <div id="pay-screen" class="overlay">
            <h3>ACCÃˆS Ã‰LITE : 200 FCFA</h3>
            <div id="paypal-button-container"></div>
            <p>Ou Wave/Orange au <strong>78 311 37 87</strong></p>
            <input type="text" id="code-in" placeholder="Code reÃ§u">
            <button onclick="app.unlock()" class="btn-main">ACTIVER</button>
        </div>
        <div id="quiz-ui" class="hidden">
            <div class="quiz-nav">
                <select id="s-mat" onchange="app.newQ()">
                    <option value="math">MATHS</option>
                    <option value="pc">PC/CHIMIE</option>
                    <option value="fr">FRANÃ‡AIS</option>
                    <option value="hg">HIST-GÃ‰O</option>
                    <option value="ang">ANGLAIS</option>
                    <option value="philo">PHILO</option>
                </select>
                <select id="s-niv" onchange="app.newQ()">
                    <option value="f">Facile</option>
                    <option value="m">Moyen</option>
                    <option value="d">Difficile</option>
                </select>
            </div>
            <div id="q-box" class="card">
                <p id="q-txt">Chargement du quiz...</p>
                <input type="text" id="q-ans" placeholder="RÃ©ponse">
                <button onclick="app.check()" class="btn-main">VALIDER</button>
            </div>
        </div>
    </section>

    <nav class="tabs">
        <button onclick="app.nav('view-calc')">ðŸ§® Calcul</button>
        <button onclick="app.nav('view-hist')">ðŸ“œ Historique</button>
        <button onclick="app.nav('view-game')">ðŸŽ® Jeux</button>
    </nav>

    <script src="app.js"></script>
    <script>
        // Active le mode hors-ligne (Service Worker)
        if('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js');
        }
    </script>
</body>
</html>
